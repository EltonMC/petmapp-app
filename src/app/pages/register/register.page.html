<ion-header class="pm-header-before-login">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <img src="assets/images/pm-logo.png" alt="" />
  </ion-toolbar>
</ion-header>
<ion-content>
  <h1>Criar Conta</h1>
  <ion-slides
    #slides
    [options]="slidesOpts"
    (ionSlideWillChange)="checkIndex()"
  >
    <ion-slide>
      <form [formGroup]="slideOneForm">
        <ion-item>
          <ion-input
            formControlName="name"
            type="text"
            placeholder="Nome completo"
          ></ion-input>
        </ion-item>
        <input-err
          [input]="slideOneForm.controls.name"
          msgErr="Por favor digite um nome válido."
        ></input-err>

        <ion-item>
          <ion-input
            formControlName="email"
            type="email"
            placeholder="E-mail"
            (keyup)="errEmail = false"
          ></ion-input>
        </ion-item>
        <input-err
          [input]="slideOneForm.controls.email"
          msgErr="Por favor digite um email válido."
        ></input-err>
        <submit-err [showErr]="errEmail" msgErr="Este email já foi utilizado."></submit-err>

        <ion-item>
          <ion-input
            formControlName="phone"
            type="text"
            placeholder="Telefone"
            [brmasker]="{phone: true}"
          ></ion-input>
        </ion-item>
        <input-err
          [input]="slideOneForm.controls.phone"
          msgErr="Por favor digite um número válido."
        ></input-err>

        <ion-item>
          <ion-label>Genêro</ion-label>
          <ion-select formControlName="gender" placeholder="Selecione um">
            <ion-select-option value="male">Masculino</ion-select-option>
            <ion-select-option value="female">Feminino</ion-select-option>
            <ion-select-option value="other">Other</ion-select-option>
          </ion-select>
        </ion-item>

        <input-err
          [input]="slideOneForm.controls.gender"
          msgErr="Selecione uma opção."
        ></input-err>

        <ion-button
          class="button-login pm-button-default"
          expand="block"
          (click)="slides.slideNext()"
          [disabled]="!slideOneForm.valid"
        >
          Próximo
        </ion-button>
      </form>
    </ion-slide>
    <ion-slide>
      <form [formGroup]="slideTwoForm">
          <ion-item>
            <ion-input
              formControlName="cep"
              type="text"
              placeholder="CEP"
              [brmasker]="{mask:'00000-000', len:9}"
              ></ion-input>
          </ion-item>
          <input-err
            [input]="slideTwoForm.controls.cep"
            msgErr="Por favor digite um número válido."
          ></input-err>
        <!-- <ion-item>
          <ion-label>Estado</ion-label>
          <ion-select formControlName="state" placeholder="Selecione um">
            <ion-select-option value="f">Bahia</ion-select-option>
            <ion-select-option value="m">Sergipe</ion-select-option>
          </ion-select>
        </ion-item>
        <input-err
          [input]="slideTwoForm.controls.state"
          msgErr="Selecione uma opção."
        ></input-err>

        <ion-item>
          <ion-label>Cidade</ion-label>
          <ion-select formControlName="city" placeholder="Selecione um">
            <ion-select-option value="f">Aracaju</ion-select-option>
            <ion-select-option value="m">São Crist</ion-select-option>
          </ion-select>
        </ion-item>
        <input-err
          [input]="slideTwoForm.controls.city"
          msgErr="Selecione uma opção."
        ></input-err>

        <ion-item>
          <ion-input
            formControlName="neighbor"
            type="text"
            placeholder="Bairro"
          ></ion-input>
        </ion-item>
        <input-err
          [input]="slideTwoForm.controls.neighbor"
          msgErr="Por favor digite um bairro válido."
        ></input-err> -->

        <ion-item>
          <ion-input
            formControlName="password"
            type="password"
            placeholder="Crie uma senha"
          ></ion-input>
        </ion-item>
        <input-err
          [input]="slideTwoForm.controls.password"
          msgErr="Por favor digite uma senha válida."
        ></input-err>

        <ion-item>
          <ion-input
            formControlName="confirmPassword"
            type="password"
            placeholder="Repita a senha"
          ></ion-input>
        </ion-item>
        <input-err
          [input]="slideTwoForm.controls.confirmPassword"
          msgErr="Por favor digite uma senha válida."
        ></input-err>

        <div
          *ngIf="submitAttempt && slideTwoForm.controls.confirmPassword.errors"
        >
          <div *ngIf="slideTwoForm.controls.confirmPassword.errors.mustMatch">
            <p class="validator-error">
              As duas senhas informadas são diferentes.
            </p>
          </div>
        </div>
        <ion-button
          class="button-start pm-button-default"
          expand="block"
          (click)="save()"
          [disabled]="!slideTwoForm.valid"
        >
          Concluir
        </ion-button>
      </form>
    </ion-slide>
  </ion-slides>
</ion-content>
